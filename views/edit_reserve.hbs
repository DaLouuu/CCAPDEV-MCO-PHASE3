<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reserve | {{profileDetails.role}}</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link id="favicon" rel="icon" href="/common/CSS & Assets/Assets/ILABYOU-logo.png" type="image/png">
    {{#if profileDetails.isLabtech}}
    <link rel="stylesheet" href="/common/CSS & Assets/reserve_lab.css">
    {{else}}
    <link rel="stylesheet" href="/common/CSS & Assets/reserve_lab.css">
   {{/if}}

</head>

<body id="{{profileDetails.role}}-view">
    {{> reserveHeader}}
    <div id ="body">
        <div class="seating-plan">
    
            <div class="row"> 
                <div style="width: 50%;"></div>
                <div class="t-table"><div class="seat-id">FRONT</div> </div>
                <div style="width: 50%;"></div>
              </div>
{{#inArray selectedLab.labIndex "1,2"}}     
     <div class="top-row">
                <div class="table"> </div>
                <div style="width: 25%;"></div>
                <div class="table"> </div>
            </div>
            
        <div class="row">
  {{#each selectedLab.seatNumbers}}
    {{#if (isSeatUpToA4 @index)}}
        <div class="seat">
            <div class="seat-id" id="seat_{{this}}"> {{this}}</div>
        </div>
    {{/if}}
{{/each}}
        <div style="width: 25%;"></div>
      {{#each selectedLab.seatNumbers}}
    {{#if (isSeatUpA5ToA8 @index)}}
        <div class="seat">
            <div class="seat-id" id="seat_{{this}}"> {{this}}</div>
        </div>
    {{/if}}
{{/each}}
        </div>

         <div class="row">
                <div class="table"> </div>
                <div style="width: 25%;"></div>
                <div class="table"> </div>
        </div>

         <div class="row">
  {{#each selectedLab.seatNumbers}}
    {{#if (isSeatUpToB4 @index)}}
        <div class="seat">
            <div class="seat-id" id="seat_{{this}}"> {{this}}</div>
        </div>
    {{/if}}
{{/each}}
        <div style="width: 25%;"></div>
      {{#each selectedLab.seatNumbers}}
    {{#if (isSeatUpB5ToB8 @index)}}
        <div class="seat">
            <div class="seat-id" id="seat_{{this}}"> {{this}}</div>
        </div>
    {{/if}}
{{/each}}
        </div>   

        <div class="row">
                <div class="table"> </div>
                <div style="width: 25%;"></div>
                <div class="table"> </div>
        </div>

        <div class="row">
  {{#each selectedLab.seatNumbers}}
    {{#if (isSeatUpToC4 @index)}}
        <div class="seat">
            <div class="seat-id" id="seat_{{this}}"> {{this}}</div>
        </div>
    {{/if}}
{{/each}}
        <div style="width: 25%;"></div>
      {{#each selectedLab.seatNumbers}}
    {{#if (isSeatUpC5ToC8 @index)}}
        <div class="seat">
            <div class="seat-id" id="seat_{{this}}"> {{this}}</div>
        </div>
    {{/if}}
{{/each}}
        </div>   
{{else}}
   <div class="top-row">
                <div class="table"> </div>
                <div style="width: 25%;"></div>
                <div class="table"> </div>
                <div style="width: 25%;"></div>
                <div class="table"> </div>
    </div>
<div class="row">
 {{#each selectedLab.seatNumbers}}
    {{#if (isSeatUpToA3 @index)}}
        <div class="seat">
            <div class="seat-id" id="seat_{{this}}"> {{this}}</div>
        </div>
    {{/if}}
  {{/each}}
        <div style="width: 15%;"></div>
 {{#each selectedLab.seatNumbers}}
    {{#if (isSeatUpA4ToA6 @index)}}
        <div class="seat">
            <div class="seat-id" id="seat_{{this}}"> {{this}}</div>
        </div>
    {{/if}}
 {{/each}}
        <div style="width: 15%;"></div>
 {{#each selectedLab.seatNumbers}}
    {{#if (isSeatUpA7ToA9 @index)}}
        <div class="seat">
            <div class="seat-id" id="seat_{{this}}"> {{this}}</div>
        </div>
    {{/if}}
 {{/each}}
</div>
<div class="row">
                <div class="table"> </div>
                <div style="width: 25%;"></div>
                <div class="table"> </div>
                <div style="width: 25%;"></div>
                <div class="table"> </div>
</div>
<div class="row">
 {{#each selectedLab.seatNumbers}}
    {{#if (isSeatUpToB3 @index)}}
        <div class="seat">
            <div class="seat-id" id="seat_{{this}}"> {{this}}</div>
        </div>
    {{/if}}
  {{/each}}
        <div style="width: 15%;"></div>
 {{#each selectedLab.seatNumbers}}
    {{#if (isSeatUpB4ToB6 @index)}}
        <div class="seat">
            <div class="seat-id" id="seat_{{this}}"> {{this}}</div>
        </div>
    {{/if}}
 {{/each}}
        <div style="width: 15%;"></div>
 {{#each selectedLab.seatNumbers}}
    {{#if (isSeatUpB7ToB9 @index)}}
        <div class="seat">
            <div class="seat-id" id="seat_{{this}}"> {{this}}</div>
        </div>
    {{/if}}
 {{/each}}
</div>

<div class="row">
                <div class="table"> </div>
                <div style="width:25%"></div>
                <div class="table"> </div>
                <div style="width:25%"></div>
                <div class="table"> </div>
</div>
<div class="row">
 {{#each selectedLab.seatNumbers}}
    {{#if (isSeatUpToC3 @index)}}
        <div class="seat">
            <div class="seat-id" id="seat_{{this}}"> {{this}}</div>
        </div>
    {{/if}}
  {{/each}}
        <div style="width: 15%;"></div>
 {{#each selectedLab.seatNumbers}}
    {{#if (isSeatUpC4ToC6 @index)}}
        <div class="seat">
            <div class="seat-id" id="seat_{{this}}"> {{this}}</div>
        </div>
    {{/if}}
 {{/each}}
        <div style="width: 15%;"></div>
 {{#each selectedLab.seatNumbers}}
    {{#if (isSeatUpC7ToC9 @index)}}
        <div class="seat">
            <div class="seat-id" id="seat_{{this}}"> {{this}}</div>
        </div>
    {{/if}}
 {{/each}} 
  </div>
  
{{/inArray}}
          


            <div class="row"> 
                <div class="legend">

                    <div class="legend-item">
                        <div class="orange"></div>
                        <span>My Bookings</span>
                    </div>
    
                    <div class="legend-item">
                        <div class="green"></div>
                        <span>Available</span>
                    </div>
                    <div class="legend-item">
                        <div class="red"></div>
                        <span>Booked</span>
                    </div>
                    <div class="legend-item">
                        <div class="purple"></div>
                        <span>Selected</span>
                    </div>
                </div>    
            </div>
          
        </div>

 
        <div class="reserve-layout">
            
            <div class="row-reserve">
                <div class="lab-name"> <strong>{{selectedLab.labName}} </strong></div>
            </div>

            <div class="dateBox">
                <div id="left-arrow"><img src="https://cdn2.iconfinder.com/data/icons/font-awesome/1792/angle-left-512.png" alt="left-arrow"></div>
                <div class="date" id="currentDate" value="{{reservationDate}}"> </div>
                <div id="right-arrow"><img src="https://cdn2.iconfinder.com/data/icons/font-awesome/1792/angle-right-512.png" alt="right-arrow"></div>
            </div> 
{{#if profileDetails.isLabtech}}
            <div class="reserve-form">
              
                <div class="row-reserve">
                    <div class="col-25">
                      <label for="seatnum">Student ID</label>
                    </div>
                    <div class="col-75">
                        <input type="text" id="selectedStudentID" name="studentID" placeholder="Please enter Student ID" value="{{reservation.requestFor}}">
                    </div>
                </div>
                <div class="row-reserve">
                    <div class="col-25">
                      <label for="seatnum">Seat Number:</label>
                    </div>
                    <div class="col-75">
                      <input type="text" id="selectedSeatNum"name="seatnumber"  value="{{reservationSeats}}" readonly>
                    </div>
                </div>
                <div class="row-reserve">
                    <div class="col-25">
                      <label for="date">Date:</label>
                    </div>
                    <div class="col-75">
                      <input type="date" id="selectedDate" name="date" placeholder="Please select a Date" value="{{reservationDate}}">
                    </div>
                </div>
                <div class="row-reserve">
                    <div class="col-25">
                      <label for="timeSlot">Time Slot:</label>
                    </div>
                    <div class="col-75">
                      <select id="selectedTime" name="time">
                         <option value="900"{{#compareTime reservationTime '9:00 AM - 9:30 AM'}} selected {{/compareTime}}> 9:00 AM - 9:30 AM </option>
                         <option value="930"{{#compareTime reservationTime '9:30 AM - 10:00 AM'}} selected {{/compareTime}}> 9:30 AM - 10:00 AM </option>
                         <option value="1000"{{#compareTime reservationTime '10:00 AM - 10:30 AM'}} selected {{/compareTime}}> 10:00 AM - 10:30 AM </option>
                         <option value="1030"{{#compareTime reservationTime '10:30 AM - 11:00 AM'}} selected {{/compareTime}}> 10:30 AM - 11:00 AM </option>
                         <option value="1100"{{#compareTime reservationTime '11:00 AM - 11:30 AM'}} selected {{/compareTime}}> 11:00 AM - 11:30 AM </option>
                         <option value="1130"{{#compareTime reservationTime '11:30 AM - 12:00 PM'}} selected {{/compareTime}}> 11:30 AM - 12:00 PM </option>
                         <option value="1200"{{#compareTime reservationTime '12:00 PM - 12:30 PM'}} selected {{/compareTime}}> 12:00 PM - 12:30 PM </option>
                         <option value="1230"{{#compareTime reservationTime '12:30 PM - 1:00 PM'}} selected {{/compareTime}}> 12:30 PM - 1:00 PM </option>
                         <option value="1300"{{#compareTime reservationTime '1:00 PM - 1:30 PM'}} selected {{/compareTime}}> 1:00 PM - 1:30 PM </option>
                         <option value="1330"{{#compareTime reservationTime '1:30 PM - 2:00 PM'}} selected {{/compareTime}}> 1:30 PM - 2:00 PM </option>
                         <option value="1400"{{#compareTime reservationTime '2:00 PM - 2:30 PM'}} selected {{/compareTime}}> 2:00 PM - 2:30 PM </option>
                         <option value="1430"{{#compareTime reservationTime '2:30 PM - 3:00 PM'}} selected {{/compareTime}}> 2:30 PM - 3:00 PM </option>
                         <option value="1500"{{#compareTime reservationTime '3:00 PM - 3:30 PM'}} selected {{/compareTime}}> 3:00 PM - 3:30 PM </option>
                         <option value="1530"{{#compareTime reservationTime '3:30 PM - 4:00 PM'}} selected {{/compareTime}}> 3:30 PM - 4:00 PM </option>
                      </select>
                    </div>
                </div>
                
                <div class="row-reserve">
                    <div class="col-25">
                        <label for="groupOrSolo"> </label>
                    </div>
                    <div class="col-75">
                         <input type="radio" id="soloReservation" name="reservationType" value="Solo" {{#ifEquals reservationType 'Solo'}}checked{{/ifEquals}}>
                         <label for="soloReservation"><img src="https://cdn-icons-png.flaticon.com/128/9742/9742643.png" alt="Solo Logo" height="32"> Solo </label>
                         <input type="radio" id="groupReservation" name="reservationType" value="Group" {{#ifEquals reservationType 'Group'}}checked{{/ifEquals}}>
                          <label for="groupReservation"><img src="https://cdn-icons-png.flaticon.com/128/1769/1769041.png" alt="Group Logo" height="32"> Group Reservation</label>
                        </div>

                </div>
                <div class="row-reserve">
                    <div  class="group-note">
                        <img src="https://cdn-icons-png.flaticon.com/128/665/665049.png" alt="group-note" height="32">
                         <i><p>Group reservations allow booking between 2 to 5 seats</p></i>
                    </div>
                </div>
            
                <div class="row-reserve">
                    <div class="col-25">
                    </div>
                    <div class="col-75">
                    <input type="submit" value="Reserve" id="reserveBtn">
                    </div>
                </div>
            </div>
        </div>

    </div>

    
    <div id="reservationModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
          
            <h2>Reservation Confirmation</h2>

            <h4>Room: <span id="confirmLabName">{{selectedLab.labName}}</span></h4>
            <strong> <p>Reservation ID: </strong> <span id="reservationID">{{reservationId}}</span></p>
            <p> Labtech ID Number: <span id="confirmLabtechID">{{profileDetails.idNum}}</span></p>
            <strong> <p>Seat Number: </strong> <span id="confirmSeatNum"></span></p>
            <p> Student ID Number: <span id="confirmStudentID">{{reservation.requesterID}}</span></p>
            <p>Date: <span id="confirmDate"></span></p>
            <p>Time Slot: <span id="confirmTime"></span></p>
            <p>Reservation Type II: <span id="confirmReservationTypeGroupOrSolo"></span></p>
            <button id="confirmReservationBtn">Edit Reservation</button>
            <button id="cancelReservationBtn">Cancel</button>
        </div>
    </div>
{{else}}

            <div class="reserve-form">
              
                <div class="row-reserve">
                    <div class="col-25">
                      <label for="seatnum">Seat Number:</label>
                    </div>
                    <div class="col-75">
                     <input type="text" id="selectedSeatNum"name="seatnumber"  value="{{reservationSeats}}" readonly>
                    </div>
                </div>
                <div class="row-reserve">
                    <div class="col-25">
                      <label for="date">Date:</label>
                    </div>
                    <div class="col-75">
                      <input type="date" id="selectedDate" name="date" placeholder="Please select a Date" value="{{reservationDate}}">
                    </div>
                </div>
                <div class="row-reserve">
                    <div class="col-25">
                      <label for="timeSlot">Time Slot:</label>
                    </div>
                    <div class="col-75">
                      <select id="selectedTime" name="time">
                         <option value="900"{{#compareTime reservationTime '9:00 AM - 9:30 AM'}} selected {{/compareTime}}> 9:00 AM - 9:30 AM </option>
                         <option value="930"{{#compareTime reservationTime '9:30 AM - 10:00 AM'}} selected {{/compareTime}}> 9:30 AM - 10:00 AM </option>
                         <option value="1000"{{#compareTime reservationTime '10:00 AM - 10:30 AM'}} selected {{/compareTime}}> 10:00 AM - 10:30 AM </option>
                         <option value="1030"{{#compareTime reservationTime '10:30 AM - 11:00 AM'}} selected {{/compareTime}}> 10:30 AM - 11:00 AM </option>
                         <option value="1100"{{#compareTime reservationTime '11:00 AM - 11:30 AM'}} selected {{/compareTime}}> 11:00 AM - 11:30 AM </option>
                         <option value="1130"{{#compareTime reservationTime '11:30 AM - 12:00 PM'}} selected {{/compareTime}}> 11:30 AM - 12:00 PM </option>
                         <option value="1200"{{#compareTime reservationTime '12:00 PM - 12:30 PM'}} selected {{/compareTime}}> 12:00 PM - 12:30 PM </option>
                         <option value="1230"{{#compareTime reservationTime '12:30 PM - 1:00 PM'}} selected {{/compareTime}}> 12:30 PM - 1:00 PM </option>
                         <option value="1300"{{#compareTime reservationTime '1:00 PM - 1:30 PM'}} selected {{/compareTime}}> 1:00 PM - 1:30 PM </option>
                         <option value="1330"{{#compareTime reservationTime '1:30 PM - 2:00 PM'}} selected {{/compareTime}}> 1:30 PM - 2:00 PM </option>
                         <option value="1400"{{#compareTime reservationTime '2:00 PM - 2:30 PM'}} selected {{/compareTime}}> 2:00 PM - 2:30 PM </option>
                         <option value="1430"{{#compareTime reservationTime '2:30 PM - 3:00 PM'}} selected {{/compareTime}}> 2:30 PM - 3:00 PM </option>
                         <option value="1500"{{#compareTime reservationTime '3:00 PM - 3:30 PM'}} selected {{/compareTime}}> 3:00 PM - 3:30 PM </option>
                         <option value="1530"{{#compareTime reservationTime '3:30 PM - 4:00 PM'}} selected {{/compareTime}}> 3:30 PM - 4:00 PM </option>
                      </select>
                    </div>
                </div>
                
                <div class="row-reserve">
                    <div class="col-25">
                        <label for="anonymous"  style="font-size: 16px;">Reserve Anonymously:</label>
                    </div>
                    <div class="col-75">
                        <input type="checkbox" id="anonymous" name="anonymous" {{#if reservation.isAnonymous}}checked{{/if}}>
                        <label for="anonymous"  style="font-size: 18px;">Yes, I'd like to reserve anonymously</label>
                    </div>
                </div>
                <div class="row-reserve">
                    <div class="col-25">
                        <label for="groupOrSolo"> </label>
                    </div>
                     <div class="col-75">
                         <input type="radio" id="soloReservation" name="reservationType" value="Solo" {{#ifEquals reservationType 'Solo'}}checked{{/ifEquals}}>
                         <label for="soloReservation"><img src="https://cdn-icons-png.flaticon.com/128/9742/9742643.png" alt="Solo Logo" height="32"> Solo </label>
                         <input type="radio" id="groupReservation" name="reservationType" value="Group" {{#ifEquals reservationType 'Group'}}checked{{/ifEquals}}>
                          <label for="groupReservation"><img src="https://cdn-icons-png.flaticon.com/128/1769/1769041.png" alt="Group Logo" height="32"> Group Reservation</label>
                        </div>
                </div>
                <div class="row-reserve">
                    <div  class="group-note">
                        <img src="https://cdn-icons-png.flaticon.com/128/665/665049.png" alt="group-note" height="32">
                         <i><p>Group reservations allow booking between 2 to 5 seats</p></i>
                    </div>
                </div>
            
                <div class="row-reserve">
                    <div class="col-25">
                    </div>
                    <div class="col-75">
                    <input type="submit" value="Reserve" id="reserveBtn">
                    </div>
                </div>
                
        
            </div>


                
                

        </div>

    </div>
    
    <div id="reservationModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
          
            <h2>Reservation Confirmation</h2>
            <h4>Room: <span id="confirmLabName">{{selectedLab.labName}}</span></h4>
            <strong> <p>Reservation ID: </strong> <span id="reservationID">{{reservationId}}</span></p>
<strong> <p>Seat Number: </strong> <span id="confirmSeatNum"></span></p>
<strong><p> Student ID Number:</strong> <span id="confirmStudentID">{{profileDetails.idNum}}</span></p>
<strong> <p>Date:        </strong><span id="confirmDate"></span></p>
<strong> <p>Time Slot:   </strong> <span id="confirmTime"></span></p>
<strong> <p>Reservation Type:</strong> <span id="confirmReservationType"></span></p>
<strong> <p>Reservation Type II: </strong><span id="confirmReservationTypeGroupOrSolo"></span></p>
            <button id="confirmReservationBtn">Edit Reservation</button>
            <button id="cancelReservationBtn">Cancel</button>
        </div>
    </div>
{{/if}}

   
    
    <div id="dimmedBackground"></div>
    <div id="popupWindow">
        <div id="closeButton">&times;</div>
        <h4>What is this page?</h4>
        <div>This page facilitates reserving seats for specific labs. Choose your desired seat, along with the preferred date and time slot.</div>
    </div>

  
   <script src="/common/Javascript/edit_popup.js"></script>
{{#if profileDetails.isLabtech}}
  <script src="/common/Javascript/edit_reserve_labtech.js"></script>
{{else}}
  <script src="/common/Javascript/edit_reserve.js"></script>
{{/if}}

 

</body>
</html>
