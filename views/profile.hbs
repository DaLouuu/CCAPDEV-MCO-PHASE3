<body id="{{profileDetails.role}}-view">
    {{> profileHeader}}
    <div id="body">
        <div id="main-section">
            <img id="profile-picture" src="{{profileDetails.pic}}" alt="Profile Picture">
            <br>
            <input type="file" id="fileInput" style="display: none;">
            <button id="editProfilePicButton">Select Picture</button>
            
            <div id="fullName">{{profileDetails.firstName}} {{profileDetails.lastName}}</div>   
            <br>
            {{#if profileDetails.isLabtech}}
                <div id="account-type">Lab Technician</div>
            {{else}}
                <div id="account-type">Student</div>
            {{/if}}
            <div id="account-options">
                <button id="editProfileButton">Edit Profile Details</button>
                <button id="delProfileButton">Delete Account</button>
            </div>
        </div>
        <div id="mid-section">
            <div id="bio">
                <h2>Bio</h2>
                <div id="bio-text">{{profileDetails.bio}}</div> 
            </div>
            <div id="account-details">
                <h2>Account Details</h2>
                
                <div class="profile-detail">
                    <div><b>Email: &ensp;</b></div>
                    <div id="email">{{profileDetails.email}}</div>
                </div>
                <div class="profile-detail">
                    <div><b>ID Number: &ensp;</b></div>
                    <div id="idNumber">{{profileDetails.idNum}}</div>
                </div>
                <div class="profile-detail">
                    <div><b>Birthday: &ensp;</b></div>
                    <div id="birthday">{{profileDetails.birthday}}</div>
                </div>
                <div class="profile-detail">
                    <div><b>Pronouns: &ensp;</b></div>
                    <div id="pronouns">{{profileDetails.pronouns}}</div>
                </div>
            </div>
            <div id="stats">
                <h2>Stats</h2>
                <div id="active-stat">You have 5 active reservations.</div>
                <div id="type-ratio-label">Reservation Type Ratio</div>
                <progress id="type-bar" max="100" value="50">50%</progress>
                <div id="type-ratio">
                    <div id="solo-percent">Solo: 50%</div>
                    <div id="group-percent">Group: 50%</div>
                </div>
            </div>
        </div>
        
        <div id="res-section"> 
            <h2>Your Reservations</h2>
            <table id="dataTable">
                <thead>
                    <tr>
                        <th>Laboratory</th>
                        <th>Seat</th>
                        <th>Request DT</th>
                        <th>Reservation DT</th>
                        <th>Type</th>
                        {{#if profileDetails.isLabtech}}
                            <th>Student ID</th>
                        {{/if}}
                    </tr>
                </thead>
                <tbody>
                    {{#if profileDetails.isLabtech}}
                        {{#each reservations}}
                            <tr class="table-row">
                                <td>{{lab}}</td>
                                <td>{{seat}}</td>
                                <td>{{requestDT}}</td>
                                <td>{{reserveDT}}</td>
                                <td>{{type}}</td>
                                <td>{{requestFor}}</td>
                            </tr>
                        {{/each}}
                    {{else}}
                        {{#each reservations}}
                        <tr class="table-row">
                            <td>{{lab}}</td>
                            <td>{{seat}}</td>
                            <td>{{requestDT}}</td>
                            <td>{{reserveDT}}</td>
                            <td>{{type}}</td>
                            
                        </tr>
                        {{/each}}
                    {{/if}}
                    
        
                </tbody>
            </table>

        </div>

    </div>
    <div id="dimmedBackground"></div>
    <div id="popupWindow">
        <div id="popupContent">
            <button id="closeButton">&times;</button>
            <h3>Edit Profile Details</h3>
            <form id="profileForm">
                <label for="firstNameInput">First Name:</label>
                <br>
                <input type="text" id="firstNameInput" required>
                <br><br>
                <label for="lastNameInput">Last Name:</label>
                <br>
                <input type="text" id="lastNameInput" required>
                <br><br>
                <label for="birthdayInput">Birthday:</label>
                <br>
                <input type="date" id="birthdayInput" required>
                <br><br>
                <label for="pronounsInput">Pronouns:</label>
                <br>
                <input type="text" id="pronounsInput" required>
                <br><br>
                <label for="bioInput">Bio:</label>
                <br>
                <textarea id="bioInput" name="bioInput" rows="4" maxlength="120"></textarea>
                <p id="counter">Characters remaining: 120</p>
                <br>
                
                
                <br><br><br>
                <button type="button" id="saveChangesButton">Save Changes</button>
            </form>
        </div>
    </div>
    <div id="deletePopup">
        <button id="closeButtonDelete">&times;</button>
        <h3>Are you sure you want to delete your account? This action is irreversible.</h3>
        <div id="delete-options">
            <!--<form name ="login-user" action="read-user" method="post"></form>-->
            <form id="choiceForm" action="delete-user" method="post">
                <div class="choice">
                    <input type="radio" id="yes-delete" name="choice" value="yes" class="input-choice">
                    <label for="yes-delete" class="choice-label">Yes, delete my account.</label>
                </div>
                <div class="choice">
                    <input type="radio" id="no-delete" name="choice" value="no" class="input-choice">
                    <label for="no-delete" class="choice-label">No, keep my account.</label>
                </div>
                <br>
                <button type="submit" class="submit-button">Submit</button>
            </form>
        </div> 
    </div>
    <div id="pfpPopup">
        <button id="closeButtonPfp">&times;</button>
        <div id="pfp-selection">
    <img class='pfp-choice' id="pfp-choice1" src="https://i.pinimg.com/originals/37/91/aa/3791aa75f0199f01e1e86676ffdb0103.jpg" alt="Profile Picture 1">
    <img class='pfp-choice' id="pfp-choice2" src="https://i.pinimg.com/originals/40/6f/08/406f0876bfddaed4fd112cc271b52cbc.jpg" alt="Profile Picture 2">
    <img class='pfp-choice' id="pfp-choice3" src="https://i.pinimg.com/originals/80/ea/f4/80eaf4d1cfd7fc8c1caae635cfb3585a.jpg" alt="Profile Picture 3">
</div>
<div id="pfp-options">
    <form id="choiceForm" action="/save-profile-picture" method="post">
        <div class="choice">
            <input type="radio" id="radio-pfp1" name="choice" value="https://i.pinimg.com/originals/37/91/aa/3791aa75f0199f01e1e86676ffdb0103.jpg" class="input-choice">
            <label for="radio-pfp1" class="choice-label">Picture 1</label>
        </div>
        <div class="choice">
            <input type="radio" id="radio-pfp2" name="choice" value="https://i.pinimg.com/originals/40/6f/08/406f0876bfddaed4fd112cc271b52cbc.jpg" class="input-choice">
            <label for="radio-pfp2" class="choice-label">Picture 2</label>
        </div>
        <div class="choice">
            <input type="radio" id="radio-pfp3" name="choice" value="https://i.pinimg.com/originals/80/ea/f4/80eaf4d1cfd7fc8c1caae635cfb3585a.jpg" class="input-choice">
            <label for="radio-pfp3" class="choice-label">Picture 3</label>
        </div>
        <br>
        <button type="submit" class="submit-button">Submit</button>
    </form>
</div>

        <!-- upon form submission, send to server side route, find a way to send the id, use const selectedPictureUrl = req.body.choice;-->
    </div>
</div>
</body>